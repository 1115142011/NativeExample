### 图片props
- resizeMode 当布局框架与图片院士尺寸不一致时，调整图像大小
  - cover 保持纵横比缩放以覆盖
  - contain 均匀缩放以显示完整的图片 --> 布局框架可能出现空白处
  - stretch 独立缩放宽度或者高度  ---> 会改变纵横比
  - repeat 重复图像以覆盖视图框架
  - center 图片缩小居中
  - tintColor 为非透明的像素指定一个颜色
### 样式Props
  - 在react native 中有一些属性是仅支持像素单位的 比如 column-gap 无论写不写单位都会将其当作px 处理
  - react native 在 7.4+ 使用的是 Yoga 3.0 布局引擎已缩小了和 web 的差距
  - position 默认情况下所有元素都设置了 position: relative 因此 absolute 始终是相对于父元素 计算位置；在react Native 中没有 fixed 固定定位
  - 设置边距 left right top bottom 
  - react native 中只能使用逻辑像素或者百分比
  - zIndex 默认情况下是靠渲染顺序来展示堆叠层 
  - 阴影属性 shadow 仅在 ios 生效
  - Text 支持单词首字母大写转换
  - 阴影设置内部
### 布局事件对象 
  - layout 中的 x，y 是父组件内部的x,y坐标
  - target 接收 PressEvent 事件的 元素 
### Animated
  - 侧重于输入和输出之间的声明性关系
  - 创建动画的基本流程
  -  1. 创建一个Animated.View, 将它连接到动画组件的一个或多个样式属性 
  -  2. 通过Animated.timing() 通过动画效果展示数据的变化
  -  3. 不能直接修改动画的值， 使用react Ref 来保存动画值的引用，并且保持组件生命周期内引用不被销毁
  -  4. Animated.ValueXY 用于二维的同时控制xy 的动画
  - 动画模式
  -  1. Animate.decay() 以指定的处世速度开始变化，然后变化速度越来约慢直至停下
  -  2. Animated.spring() 指定基础的弹簧模型
  -  3. timing() 使用 easing函数让叔值随时间动起来
  -  使用动画
  -  1. 调用start() 来启动动画 接收一个回调 在动画完成后执行该回调
  -  2. stop() 停止动画
  - 启用原生动画驱动之后阻塞js 线程 保障动画完整的执行，而非一帧一帧的桥接
  - 组件必须要经过处理才能用于动画，所谓的处理是把动画值绑定到属性上 createAnimatedComponent() 处理组件使其可用于动画
  - 合成动画值，把两个动画合成一个新的动画
  - AppState 查询应用状态 -->使用中   --> 后台使用中 AppState.currentState 会一直更新
  - addMenuItem 改造开发中菜单
  - Dimensions 获取屏幕宽高
  - InteractionManager 可以将一些耗时较长的工作安排到动画执行完成后在执行，保障js动画的流畅
  - Keyboard 添加一些键盘事件监听或者主动开启和关闭系统键盘
  - Linking url Schemes
  - PanResponder 将多个触摸炒作协调成一个手势
  - 像素网格的对其 近似偏差的累积
  - roundToNearestPixel 将一个布局尺寸转化为像素尺寸
  - rootTag混合开发的时候才会用的上
  - share() 分享一段文本
  - styleSheet 的优势缓存 --> react native 会生成唯一id 进行缓存
  - transform 接收一组对象或者空格分割的字符串值
### vibration 
  - 震动
### hooks
  - useColorScheme  'light' | 'dark' | null
  - useWindowDimensions width height scale fontScale
### API 
  - BackHandler 处理android 设备的系统返回键
  - PermissionsAndroid android 设备获取用户授权 返回的常量值 --> granted 授权 denied 拒绝 never_ask_again拒绝且不愿意被询问
  - DynamicColorIOS 针对ios 平台的api 
  - 新架构指的是--> 新的框架架构  AOT JSI 两大特性以及提供了 同步渲染UI的功能
  - 所谓的闪动 -> 测量布局信息然后调整视图，导致会看到中间状态-->即布局闪动 提供同步测量+合理的更新操作 使中间状态无感知 
  - useLayoutEffect -> 使外形测量和状态更新在一次提交中完成 ---> eg: tooltip 位置计算 
  - react native 中所谓的同步渲染支持主要是 对 useLayoutEffect 钩子的支持 
  - 新架构已经支持到 react v18  -> 具备state 批处理的能力  
  - react 批处理的能力 -> 异步，可中断/恢复 支持不同优先级的渲染任务
### fabric 
  - fabric react native 新架构的渲染系统 核心原理是在 c++层统一更多的渲染逻辑 提升与宿主平台的的可操作性
    - 1. 宿主平台 react native 嵌入的平台 android iOS windows macOS
    - 2. fabric 渲染器主要用于执行 react框架代码 react native 渲染的是通用平台视图而非 dom 节点 fabric 的工作是让渲染通用平台视图变得可行
    - 3. fabric 让react 与宿主平台直接通信，并管理宿主平台视图  fabric 的作用 使react具备渲染和管理宿主ui的能力
    - 4. code generation 在编译时自动生成代码的技术
    - 5. JSI 是code generation 编译时自动生成
### pipeLine 渲染流水线
  - 主要负责初始化渲染和UI状态更新
  - pipeline 将计算机指令的处理过程才分为多个步骤
  - 渲染流水线分为三个阶段 
  - 1. 渲染： react 创建元素节点 c++ 创建对应的影子树
  - 2. 提交 ： 影子树创建完成后会触发一次提交
  - 3. 挂载： 影子树有了布局计算结果后会被转化为宿主视图 -->( android ios macOS)
  - 渲染流水线存在三个不同的场景
  - 1. 初始渲染
  - 2. 状态更新
  - 3. react native 渲染器的状态更新
  - 每一次渲染都会递归的调用函数组件或者类组件的render方法 每调用一个react 元素，渲染器会同步的创建react 影子节点-->由c++ 创建 这个过程是发生在宿主组件上的，例如View, Text 影子节点的组装方式是参照react 节点关系创建的
  - react 元素树和元素树中的节点并不一定是一直存在的，它只是一个当前视图的描述，fiber 就是react元素节点 ，每一个fiber都代表一个宿主组件，每一个fiber 都存在一个c++指针指向影子节点 JSI 调用c++ ---> 创建影子节点 影子节点是不可变的 为了让状态更新更高效，其体功了 clone 操作
  - 影子树创建完成后 渲染器触发一次提交，提交阶段由两个操作
  - 1. 布局计算--> 计算每一个React 影子节点的位置和大小，影子节点的布局都是通过 yoga布局引擎来计算的
  - 2. 树的提升 从新树--〉到下一颗树 会将新的影子树提升为要挂载的下一颗树 挂载发生在cup 最小时间单元 ---->tick 
  - 3. 绝大多数的布局计算都是在 c++ 中执行的 只有Text TextInput 组件的布局计算是在宿主平台执行的 文字的大小在每一个宿主平台都是特别的需要在宿主平台计算，Yoga 布局引擎会调用宿主平台的函数来计算这些组件的布局
  - 挂载 将已经包含布局信息的 react 影子树 转换为以像素形式渲染在屏幕中的宿主视图 最终呈现的是 c++ 创建的包含布局信息的影子树
  - react native 渲染器为每个react节点创建了对应的数组视图  react--->react native ---> native screen 
  - 节点挂载阶段由三个步骤组成
  - 1. 树对比 treeDiffing 完全由c++ 计算 ，会对比已经渲染的树和下一颗树之间的差异，计算结果是一系列宿主平台上的原子变更操作
  - 2. 树提升下一颗树变更为先前渲染的树--> 目的，为下一次计算提供正确的数据
  - 3. 视图挂载 在对应的原生视图上执行原子变更操作，挂载是在原生平台的ui 线程中执行的
  - 4. 更新时 --> 对变更节点进行复制--> 未变更的节点 新旧树共享（利用新旧树共享的方式使不可变的开销变得最小）结构共享 
  - 5. 视图挂载 在对应的视图上执行原子变更操作
  - 6. react node - 影子节点 -- 原生视图布局信息 ， react 是唯一数据源，且单项流动 ScrollView 例外 
  - 7. 挂载 计算布局信息，执行树对比
  - 8. Text TextInput 在app端是一个特殊的视图 新架构的渲染系统是一个跨平台的渲染系统，增加了 C++与两边通信的 API 与react 通信，与 宿主平台通信
    - 1. 与渲染器的通信主要是 react 树和事件  例如：onLayout onKeyPress touch 
    - 2. 与宿主平台的通信 主要是屏幕上挂载，insert update delete 等宿主视图的操作
### react native 的核心本质就是 fabric --> 由 c++ 实现的